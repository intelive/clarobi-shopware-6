(this.webpackJsonp=this.webpackJsonp||[]).push([["clarobi-api-test"],{"7HL+":function(e,t,s){"use strict";s.r(t);Shopware.Classes.ApiService;const i=Shopware.Classes.ApiService,{Application:n}=Shopware;class c extends i{constructor(e,t,s="clarobi-api-test"){super(e,t,s)}check(e){const t=this.getBasicHeaders({});return this.httpClient.post(`_action/${this.getApiBasePath()}/verify`,e,{headers:t}).then(e=>i.handleResponse(e))}}n.addServiceProvider("clarobiApiTest",e=>{const t=n.getContainer("init");return new c(t.httpClient,e.loginService)});var a=s("WK5i"),o=s.n(a);const{Component:r,Mixin:h}=Shopware;r.register("clarobi-api-test-button",{template:o.a,props:["label"],inject:["clarobiApiTest"],mixins:[h.getByName("notification")],data:()=>({isLoading:!1,isSaveSuccessful:!1}),computed:{pluginConfig(){return this.$parent.$parent.$parent.actualConfigData.null}},methods:{saveFinish(){this.isSaveSuccessful=!1},check(){this.clarobiApiTest.check(this.pluginConfig).then(e=>{e.success?this.createNotificationSuccess({title:this.$tc("clarobi-api-test-button.title"),message:this.$tc("clarobi-api-test-button.success")}):this.createNotificationError({title:this.$tc("clarobi-api-test-button.title"),message:this.$tc("clarobi-api-test-button.error")})})}}});var p=s("JTqv"),u=s("mMNQ");Shopware.Locale.extend("de-DE",p),Shopware.Locale.extend("en-GB",u)},JTqv:function(e){e.exports=JSON.parse('{"clarobi-api-test-button":{"title":"API Test","success":"Verbindung wurde erfolgreich getestet","error":"Verbindung konnte nicht hergestellt werden. Bitte stellen Sie sicher, dass Sie einen Clarobi f√ºr die aktuelle Domain haben!"}}')},WK5i:function(e,t){e.exports='<div>\n    <sw-button-process\n        :isLoading="isLoading"\n        :processSuccess="isSaveSuccessful"\n        @process-finish="saveFinish"\n        @click="check"\n    >{{ label }}</sw-button-process>\n</div>\n'},mMNQ:function(e){e.exports=JSON.parse('{"clarobi-api-test-button":{"title":"API Test","success":"Connection was successfully tested","error":"Connection could not be established. Please make sure you have a Clarobi for the current domain!"}}')}},[["7HL+","runtime"]]]);
